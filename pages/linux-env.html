<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>熟悉 Linux 环境 - Linux 系统编程</title>
    <link rel="stylesheet" href="../css/main.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body class="mobile-view">
    <div class="view-switch-bar">
        <button class="view-switch-btn" id="viewSwitchBtn" onclick="toggleView()">
            <span class="view-icon">📱</span>
            <span class="view-text">手机版</span>
        </button>
    </div>
    <div class="page-container-wrapper" id="pageWrapper">
    <nav class="navbar">
        <div class="nav-brand">
            <span class="logo">🐧</span>
            <span class="title">Linux 系统编程</span>
        </div>
        <ul class="nav-links">
            <li><a href="../index.html">首页</a></li>
            <li><a href="linux-env.html" class="active">Linux环境</a></li>
            <li><a href="architecture.html">系统架构</a></li>
            <li><a href="c-programming.html">C语言</a></li>
            <li><a href="kernel.html">内核模块</a></li>
            <li><a href="android.html">安卓</a></li>
            <li><a href="quiz.html">测验</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <div class="page-container">
            <header class="page-header">
                <h1><span class="icon">🖥️</span> 熟悉 Linux 环境</h1>
                <p class="breadcrumb"><a href="../index.html">首页</a> / 熟悉 Linux 环境</p>
            </header>

            <!-- 什么是 root -->
            <section class="content-section" id="root">
                <h2 class="section-title">
                    <span class="icon">👑</span>
                    什么是 root？
                </h2>
                
                <div class="info-box">
                    <p>Root 是 Linux 系统中的<strong>超级用户</strong>（Superuser），拥有系统的最高权限。</p>
                </div>

                <div class="card-grid">
                    <div class="feature-card">
                        <div class="icon">👤</div>
                        <h4>普通用户</h4>
                        <ul>
                            <li>只能访问自己的文件</li>
                            <li>不能修改系统配置</li>
                            <li>受权限限制</li>
                        </ul>
                    </div>
                    <div class="feature-card">
                        <div class="icon">👑</div>
                        <h4>Root 用户</h4>
                        <ul>
                            <li>可以访问任何文件</li>
                            <li>可以修改任何配置</li>
                            <li>不受权限限制</li>
                        </ul>
                    </div>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>如何切换到 root</span>
                        <button class="copy-btn">复制</button>
                    </div>
                    <pre><code># 切换到 root 用户
sudo -i

# 以 root 权限执行单个命令
sudo command

# 示例：以 root 安装软件
sudo apt install nginx</code></pre>
                </div>

                <div class="warning-box">
                    <h4>⚠️ 注意事项</h4>
                    <p>使用 root 权限要格外谨慎！错误操作可能导致系统崩溃或数据丢失。</p>
                </div>
            </section>

            <!-- 用户权限 -->
            <section class="content-section" id="permissions">
                <h2 class="section-title">
                    <span class="icon">🔐</span>
                    什么是用户权限？
                </h2>

                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                    Linux 是多用户系统，每个文件和目录都有权限控制，决定谁可以读、写、执行。
                </p>

                <div class="diagram-container">
                    <h4>权限结构图解</h4>
                    <div style="font-family: 'JetBrains Mono', monospace; font-size: 1.5rem; text-align: center; padding: 1rem;">
                        <span style="color: var(--text-muted);">-</span><span style="color: var(--success-color);">rwx</span><span style="color: var(--warning-color);">r-x</span><span style="color: var(--primary-color);">r--</span>
                    </div>
                    <div class="card-grid" style="margin-top: 1.5rem;">
                        <div class="feature-card">
                            <span class="tag success">rwx</span>
                            <h4>所有者 (Owner)</h4>
                            <p>文件创建者<br>读 + 写 + 执行</p>
                        </div>
                        <div class="feature-card">
                            <span class="tag warning">r-x</span>
                            <h4>组用户 (Group)</h4>
                            <p>同组用户<br>读 + 执行</p>
                        </div>
                        <div class="feature-card">
                            <span class="tag primary">r--</span>
                            <h4>其他用户 (Others)</h4>
                            <p>其他所有人<br>只读</p>
                        </div>
                    </div>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>权限</th>
                                <th>字母表示</th>
                                <th>数字表示</th>
                                <th>对文件的意义</th>
                                <th>对目录的意义</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>读 (Read)</td>
                                <td><code>r</code></td>
                                <td>4</td>
                                <td>查看文件内容</td>
                                <td>列出目录内容</td>
                            </tr>
                            <tr>
                                <td>写 (Write)</td>
                                <td><code>w</code></td>
                                <td>2</td>
                                <td>修改文件内容</td>
                                <td>创建/删除文件</td>
                            </tr>
                            <tr>
                                <td>执行 (Execute)</td>
                                <td><code>x</code></td>
                                <td>1</td>
                                <td>作为程序运行</td>
                                <td>进入目录</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>权限操作命令</span>
                        <button class="copy-btn">复制</button>
                    </div>
                    <pre><code># 查看文件权限
ls -la

# 修改权限 (数字方式: 755 = rwxr-xr-x)
chmod 755 script.sh

# 修改权限 (字母方式)
chmod +x script.sh    # 添加执行权限
chmod -w file.txt     # 移除写权限

# 修改所有者
chown user:group file

# 递归修改目录权限
chmod -R 755 /var/www</code></pre>
                </div>
            </section>

            <!-- 什么是进程 -->
            <section class="content-section" id="process">
                <h2 class="section-title">
                    <span class="icon">⚙️</span>
                    什么是进程？
                </h2>

                <div class="info-box">
                    <h4>定义</h4>
                    <p><strong>进程（Process）</strong> 是一个正在运行的程序实例。同一个程序可以同时运行多个进程。</p>
                </div>

                <div class="diagram-container">
                    <h4>进程包含的内容</h4>
                    <div class="card-grid">
                        <div class="feature-card">
                            <div class="icon">📝</div>
                            <h4>程序代码</h4>
                            <p>可执行指令</p>
                        </div>
                        <div class="feature-card">
                            <div class="icon">📊</div>
                            <h4>变量数据</h4>
                            <p>程序中的数据</p>
                        </div>
                        <div class="feature-card">
                            <div class="icon">📚</div>
                            <h4>栈 (Stack)</h4>
                            <p>函数调用、局部变量</p>
                        </div>
                        <div class="feature-card">
                            <div class="icon">🧱</div>
                            <h4>堆 (Heap)</h4>
                            <p>动态分配内存</p>
                        </div>
                        <div class="feature-card">
                            <div class="icon">📄</div>
                            <h4>文件描述符</h4>
                            <p>打开的文件</p>
                        </div>
                        <div class="feature-card">
                            <div class="icon">🌐</div>
                            <h4>网络连接</h4>
                            <p>Socket 等</p>
                        </div>
                    </div>
                </div>

                <div class="diagram-container">
                    <h4>进程内存布局</h4>
                    <div class="arch-diagram">
                        <div class="arch-layer" style="background: linear-gradient(135deg, #ef4444, #dc2626);">
                            Stack（栈）↓
                            <div style="font-size: 0.8rem; font-weight: normal;">局部变量、函数调用</div>
                        </div>
                        <div style="text-align: center; color: var(--text-muted);">↓ 向下增长 ↑</div>
                        <div class="arch-layer" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                            Heap（堆）↑
                            <div style="font-size: 0.8rem; font-weight: normal;">malloc 动态分配</div>
                        </div>
                        <div class="arch-layer" style="background: linear-gradient(135deg, #64748b, #475569);">
                            BSS / Data
                            <div style="font-size: 0.8rem; font-weight: normal;">全局变量、静态变量</div>
                        </div>
                        <div class="arch-layer" style="background: linear-gradient(135deg, #3b82f6, #2563eb);">
                            Text（代码段）
                            <div style="font-size: 0.8rem; font-weight: normal;">程序指令（只读）</div>
                        </div>
                    </div>
                </div>

                <div class="success-box">
                    <h4>🔒 核心特性：进程隔离</h4>
                    <p>默认情况下，进程间<strong>不能直接通信</strong>，每个进程有独立的内存空间。这对系统安全至关重要！</p>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>进程管理命令</span>
                        <button class="copy-btn">复制</button>
                    </div>
                    <pre><code># 查看所有进程
ps aux

# 实时监控进程
top

# 查找特定进程
ps aux | grep nginx

# 终止进程
kill 1234          # 发送 SIGTERM
kill -9 1234       # 发送 SIGKILL（强制）

# 后台运行
./myprogram &

# 查看当前 Shell 的进程
echo $$</code></pre>
                </div>
            </section>

            <!-- 完成按钮 -->
            <div class="completion-section" style="text-align: center; margin: 3rem 0; padding: 2rem; background: var(--bg-secondary); border-radius: var(--radius-xl);">
                <h3 style="margin-bottom: 1rem;">🎉 完成本模块学习？</h3>
                <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">点击按钮保存学习进度</p>
                <button onclick="markCompleted('linux-env')" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; border: none; padding: 1rem 2rem; border-radius: var(--radius-lg); font-size: 1rem; font-weight: 600; cursor: pointer;">
                    ✓ 标记为已完成
                </button>
            </div>

            <!-- 导航按钮 -->
            <div class="nav-buttons">
                <a href="../index.html" class="nav-btn">
                    ← 返回首页
                </a>
                <a href="architecture.html" class="nav-btn next">
                    下一章：系统架构 →
                </a>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>Linux 系统编程学习指南</p>
    </footer>
    
    <!-- 手机版底部导航 -->
    <nav class="mobile-bottom-nav">
        <a href="../index.html">
            <span class="icon">🏠</span>
            <span>首页</span>
        </a>
        <a href="linux-env.html" class="active">
            <span class="icon">🖥️</span>
            <span>Linux</span>
        </a>
        <a href="c-programming.html">
            <span class="icon">💻</span>
            <span>C语言</span>
        </a>
        <a href="quiz.html">
            <span class="icon">📝</span>
            <span>测验</span>
        </a>
    </nav>
    </div><!-- End of page-container-wrapper -->

    <script src="../js/main.js"></script>
    <script src="../js/view-switch.js"></script>
</body>
</html>
